Need to synchronize between request permission and surface created


